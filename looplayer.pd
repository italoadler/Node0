#N canvas 0 0 1366 873 10;
#X obj 387 146 r loopsize;
#X obj 53 -12 s \$0-stopr;
#X obj 145 -11 s \$0-start;
#X obj 53 -33 r looperctrl;
#X obj 147 -32 r att;
#N canvas 756 298 381 325 limiter-for-two-channels 0;
#X obj 24 22 inlet~;
#X obj 121 21 loadbang;
#X obj 82 64 z~ 64;
#X obj 24 200 outlet~;
#X obj 121 113 zexy/limiter~;
#X msg 154 62 limit 100;
#X obj 57 173 *~;
#X connect 0 0 2 0;
#X connect 0 0 4 0;
#X connect 0 0 3 0;
#X connect 2 0 6 0;
#X connect 4 0 6 1;
#X connect 5 0 4 0;
#X restore 205 574 pd limiter-for-two-channels;
#X obj 13 195 table \$0-looperleft 2.82e+006;
#X obj 206 490 *~;
#X obj 15 290 hsl 128 25 0 1 0 1 \$0-feedback \$0-feedbackctrl feedback
20 12 0 10 -228856 -260097 -1 12700 0;
#X obj 15 327 hsl 128 25 0 1 0 1 \$0-outlevel \$0-outlevelin outlevel
20 12 0 10 -228856 -260097 -1 12700 1;
#X obj 36 397 bng 50 250 50 0 empty empty empty 17 7 0 10 -228856 -260097
-1;
#N canvas 835 526 187 172 feedbacklevel 0;
#X obj 27 81 line~;
#X obj 27 109 outlet~;
#X msg 27 57 \$1 500;
#X text 25 131 feedback level;
#X obj 95 109 outlet;
#X obj 29 26 r \$0-feedback;
#X connect 0 0 1 0;
#X connect 2 0 0 0;
#X connect 5 0 2 0;
#X connect 5 0 4 0;
#X restore 220 449 pd feedbacklevel;
#X floatatom 313 488 5 0 0 0 - - -;
#N canvas 242 208 1024 716 outlevel 0;
#X obj 27 101 line~;
#X obj 27 129 outlet~;
#X msg 27 77 \$1 500;
#X obj 82 78 outlet;
#X obj 27 24 r \$0-outlevel;
#X text 25 151 output level;
#X obj 112 25 r \$0-mute;
#X obj 131 78 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 27 51 f;
#X obj 40 10 inlet;
#X connect 0 0 1 0;
#X connect 2 0 0 0;
#X connect 6 0 8 0;
#X connect 8 0 2 0;
#X connect 8 0 3 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X restore 237 616 pd outlevel;
#X floatatom 300 638 5 0 0 0 - - -;
#X obj 48 484 s \$0-looperleft;
#X msg 36 459 const 0;
#X text 88 414 clear loop;
#X obj 215 544 hip~ 5;
#X text 12 140 Katja Vetter dec 2010;
#N canvas 577 175 391 247 more-info 0;
#X text 14 204 This patch uses [count~] and [poke~] from cyclone \,
[limiter~] from zexy.;
#X text 16 72 With feedback setting at max \, it is a looper. With
lower feedback settings \, the loop content will fade away.;
#X text 15 115 The read index is one sample ahead of the write index
\, and wrapped within the loop size.;
#X text 14 17 Elementary looping delay with sound on sound. A similar
thing can be done with [delwrite~] and [delread~] or [vd~] \, but [delwrite~]
lacks the option to clear the delay buffer.;
#X text 16 153 Loop size could be up to 2^23-1 samples theoretically.
Beyond that size \, indexing will loose the required precision.;
#X restore 13 168 pd more-info;
#X obj 127 65 r \$0-start;
#X obj 22 101 s \$0-clear;
#X msg 127 87 1;
#X obj 127 108 s \$0-mute;
#X obj 225 508 inlet~ left;
#X obj 210 184 r~ vline;
#X obj 83 62 r pgm;
#X obj 23 83 spigot;
#X obj 90 80 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 7 64 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 218 678 outlet~ left;
#X obj 36 373 r clear;
#X msg 228 -11 resize \$1;
#X obj 237 9 s \$0-looperleft;
#X obj 424 580 s \$0-feedbackctrl;
#X obj 424 522 inlet feedback;
#X floatatom 367 537 5 0 0 0 - - -;
#X obj 641 -68 inlet clear;
#X obj 439 621 outlet feedback;
#X obj 303 113 knob 32 32 0 0.7 0 0 empty empty empty 0 -8 0 8 -4034
-4034 -1 3100 1;
#X obj 752 -66 inlet vol;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-viewer 100 float 0;
#X coords 0 -1 99 1 60 40 2 0 0;
#X restore 337 103 graph;
#X obj 462 709 tabwrite~ \$0-viewer;
#X obj 466 663 loadbang;
#X obj 435 651 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 206 346 tabread4~ \$0-looperleft;
#X obj 205 707 poke~ \$0-looperleft;
#X obj 464 687 metro 500;
#X obj 23 63 r clearer;
#N canvas 888 254 385 285 readindex 0;
#X obj 96 112 /;
#X msg 96 85 1;
#X obj 16 129 *~ 1;
#X obj 16 154 wrap~;
#X obj 96 61 t b f;
#X obj 16 182 *~ 1;
#X obj 16 13 inlet~;
#X obj 16 212 outlet~;
#X text 15 236 read pointer is one sample ahead of write pointer \,
but must be wrapped around loop length;
#X obj 96 37 int;
#X obj 16 69 +~ 1;
#X obj 96 13 r loopsize;
#X floatatom 151 44 15 0 0 0 - - -;
#X connect 0 0 2 1;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 0 1;
#X connect 5 0 7 0;
#X connect 6 0 10 0;
#X connect 9 0 4 0;
#X connect 9 0 5 1;
#X connect 10 0 2 0;
#X connect 11 0 9 0;
#X connect 11 0 12 0;
#X restore 208 257 pd readindex;
#X obj 222 653 *~;
#X obj 831 -66 inlet chnl-on;
#X obj 920 -63 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 588 75 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 330 215 sel 0 1;
#X obj 583 40 change;
#X obj 584 -26 r jrb2;
#X obj 585 8 spigot;
#X msg 330 247 1 0;
#X msg 365 247 0 1;
#X obj 328 275 unpack;
#X obj 322 297 sig~;
#X obj 309 317 lop~ 80;
#X obj 379 293 sig~;
#X obj 370 317 lop~ 80;
#X obj 424 -77 r loop_in_ms;
#X obj 457 -26 / 44.1;
#X floatatom 516 -5 10 0 0 0 - - -;
#X floatatom 505 -24 10 0 0 0 - - -;
#X obj 383 -43 r loop_in_ms;
#X obj 499 -50 samplerate~;
#X obj 383 -19 s \$0-lenght;
#X obj 457 -4 s \$0-dur;
#X obj 293 422 *~;
#X obj 294 370 *~;
#X obj 295 392 resampler2;
#X obj 203 398 *~;
#X obj 551 543 r drumduck;
#X floatatom 580 624 5 0 0 0 - - -;
#X connect 3 0 1 0;
#X connect 4 0 2 0;
#X connect 5 0 47 0;
#X connect 5 0 51 0;
#X connect 7 0 5 0;
#X connect 10 0 16 0;
#X connect 11 0 7 1;
#X connect 11 1 12 0;
#X connect 13 0 51 1;
#X connect 13 1 14 0;
#X connect 16 0 15 0;
#X connect 18 0 5 0;
#X connect 21 0 23 0;
#X connect 23 0 24 0;
#X connect 25 0 18 0;
#X connect 26 0 47 1;
#X connect 26 0 50 0;
#X connect 26 0 46 0;
#X connect 27 0 28 1;
#X connect 27 0 29 0;
#X connect 28 0 22 0;
#X connect 32 0 10 0;
#X connect 36 0 37 0;
#X connect 36 0 35 0;
#X connect 38 0 10 0;
#X connect 41 0 40 0;
#X connect 44 0 48 0;
#X connect 44 0 71 0;
#X connect 45 0 48 0;
#X connect 46 0 75 0;
#X connect 46 0 77 0;
#X connect 48 0 43 0;
#X connect 49 0 28 0;
#X connect 49 0 30 0;
#X connect 51 0 31 0;
#X connect 51 0 43 0;
#X connect 52 0 53 0;
#X connect 52 0 58 1;
#X connect 52 0 76 1;
#X connect 55 0 59 0;
#X connect 55 1 60 0;
#X connect 56 0 54 0;
#X connect 56 0 55 0;
#X connect 56 0 76 2;
#X connect 57 0 58 0;
#X connect 58 0 56 0;
#X connect 59 0 61 0;
#X connect 60 0 61 0;
#X connect 61 0 62 0;
#X connect 61 1 64 0;
#X connect 62 0 63 0;
#X connect 63 0 77 1;
#X connect 63 0 75 1;
#X connect 64 0 65 0;
#X connect 65 0 74 1;
#X connect 67 0 68 0;
#X connect 67 0 73 0;
#X connect 70 0 67 0;
#X connect 70 0 69 0;
#X connect 70 0 72 0;
#X connect 71 0 67 1;
#X connect 74 0 7 0;
#X connect 75 0 76 0;
#X connect 76 0 74 0;
#X connect 77 0 7 0;
#X connect 78 0 79 0;
#X coords 0 -1 1 1 100 50 2 300 100;
